# FogWatch: Real-Time IoT Telemetry with Azure IoT Hub ğŸŒ©ï¸ğŸ“¡

This project simulates a **real-time IoT telemetry pipeline** using **Microsoft Azure IoT Hub** and **fog computing principles**. Virtual devices stream live weather telemetry, ingested by Azure Event Hub, and visualized via a **Streamlit dashboard** with fog-layer analytics.

---

## ğŸš€ Features

* Real-time weather telemetry from virtual devices (Dublin, Chennai, Tokyo)
* Azure IoT Hub + Event Hub for secure ingestion & routing
* Streamlit dashboard with:

  * Live metrics
  * Device comparison
  * Gauge meters
  * Heatmaps
  * 5-day forecast
* Multi-device support with modular simulators
* Lightweight design, deployable to **edge/fog layers**

---

## ğŸ› ï¸ Tech Stack

* **Python 3.11** (Streamlit, Pandas, Plotly, Azure SDKs)
* **Azure IoT Hub** + **Event Hub**
* **OpenWeatherMap API**
* **CSV logs** for local processing

---

## âš™ï¸ Setup Instructions

### 1ï¸âƒ£ Clone the Repo

```bash
git clone https://github.com/<your-username>/Fog-IoT-Telemetry-System.git
cd Fog-IoT-Telemetry-System
```

### 2ï¸âƒ£ Configure Environment

Copy `.env.example` â†’ `.env` and insert your Azure IoT Hub device connection strings + OpenWeatherMap API key:

```ini
IOT_HUB_CONNECTION_STRING=your_hub_string
DEVICE1_CONN_STRING=...
DEVICE2_CONN_STRING=...
DEVICE3_CONN_STRING=...
OPENWEATHER_API_KEY=your_api_key
```

### 3ï¸âƒ£ Install Dependencies

```bash
pip install -r requirements.txt
```

### 4ï¸âƒ£ Run Multi-Device Simulator

```bash
python devices/multi_device_simulator.py
```

### 5ï¸âƒ£ Run IoT Hub Listener

```bash
python hub/iot_hub_listener_multi.py
```

This generates `telemetry_log.csv` with incoming data.

### 6ï¸âƒ£ Run Dashboard

```bash
streamlit run dashboard/newdashboard.py
```

Open in browser:

```
http://localhost:8501
```

---

## ğŸ“Š Dashboard Preview

* **Line charts** â†’ real-time telemetry trends
* **Gauge meters** â†’ instant device health indicators
* **Heatmap** â†’ alert frequency
* **Forecast** â†’ 5-day predictions via OpenWeatherMap

---

## ğŸ—ï¸ Architecture

```
Devices (Dublin/Chennai/Tokyo)
        â†“
    Azure IoT Hub
        â†“
Azure Event Hub Listener
        â†“
 telemetry_log.csv
        â†“
   Streamlit Dashboard
```

---

## ğŸ“¦ Data

* `telemetry_log.csv` â†’ generated by listener (not included in repo).
* Use provided simulators to generate logs, or run with real devices.

---

## ğŸ“œ License

This project is licensed under the **MIT License**.
