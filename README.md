# FogWatch: Real-Time IoT Telemetry with Azure IoT Hub 🌩️📡

This project simulates a **real-time IoT telemetry pipeline** using **Microsoft Azure IoT Hub** and **fog computing principles**. Virtual devices stream live weather telemetry, ingested by Azure Event Hub, and visualized via a **Streamlit dashboard** with fog-layer analytics.

---

## 🚀 Features

* Real-time weather telemetry from virtual devices (Dublin, Chennai, Tokyo)
* Azure IoT Hub + Event Hub for secure ingestion & routing
* Streamlit dashboard with:

  * Live metrics
  * Device comparison
  * Gauge meters
  * Heatmaps
  * 5-day forecast
* Multi-device support with modular simulators
* Lightweight design, deployable to **edge/fog layers**

---

## 🛠️ Tech Stack

* **Python 3.11** (Streamlit, Pandas, Plotly, Azure SDKs)
* **Azure IoT Hub** + **Event Hub**
* **OpenWeatherMap API**
* **CSV logs** for local processing

---

## ⚙️ Setup Instructions

### 1️⃣ Clone the Repo

```bash
git clone https://github.com/<your-username>/Fog-IoT-Telemetry-System.git
cd Fog-IoT-Telemetry-System
```

### 2️⃣ Configure Environment

Copy `.env.example` → `.env` and insert your Azure IoT Hub device connection strings + OpenWeatherMap API key:

```ini
IOT_HUB_CONNECTION_STRING=your_hub_string
DEVICE1_CONN_STRING=...
DEVICE2_CONN_STRING=...
DEVICE3_CONN_STRING=...
OPENWEATHER_API_KEY=your_api_key
```

### 3️⃣ Install Dependencies

```bash
pip install -r requirements.txt
```

### 4️⃣ Run Multi-Device Simulator

```bash
python devices/multi_device_simulator.py
```

### 5️⃣ Run IoT Hub Listener

```bash
python hub/iot_hub_listener_multi.py
```

This generates `telemetry_log.csv` with incoming data.

### 6️⃣ Run Dashboard

```bash
streamlit run dashboard/newdashboard.py
```

Open in browser:

```
http://localhost:8501
```

---

## 📊 Dashboard Preview

* **Line charts** → real-time telemetry trends
* **Gauge meters** → instant device health indicators
* **Heatmap** → alert frequency
* **Forecast** → 5-day predictions via OpenWeatherMap

---

## 🏗️ Architecture

```
Devices (Dublin/Chennai/Tokyo)
        ↓
    Azure IoT Hub
        ↓
Azure Event Hub Listener
        ↓
 telemetry_log.csv
        ↓
   Streamlit Dashboard
```

---

## 📦 Data

* `telemetry_log.csv` → generated by listener (not included in repo).
* Use provided simulators to generate logs, or run with real devices.

---

## 📜 License

This project is licensed under the **MIT License**.
